[ERROR][26236][2021-05-25 11:20:49,844][app.py:1892] log_exception - Exception on /api_v1/weibo/test3 [GET]
Traceback (most recent call last):
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\base.py", line 1771, in _execute_context
    cursor, statement, parameters, context
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\cursors.py", line 148, in execute
    result = self._query(query)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\cursors.py", line 310, in _query
    conn.query(q)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 775, in _read_query_result
    result.read()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1054, "Unknown column 'weibo_user.location' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask_cors\extension.py", line 165, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "E:\PycharmProjects\32Git\flask-demo\application\api_v1\controller\weiboController.py", line 9, in test3
    users = WeiboUser.query.all()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\orm\query.py", line 2699, in all
    return self._iter().all()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\orm\query.py", line 2837, in _iter
    execution_options={"_sa_orm_load_options": self.load_options},
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\orm\session.py", line 1677, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\base.py", line 1582, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\sql\elements.py", line 321, in _execute_on_connection
    self, multiparams, params, execution_options
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\base.py", line 1461, in _execute_clauseelement
    cache_hit=cache_hit,
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\base.py", line 1814, in _execute_context
    e, statement, parameters, cursor, context
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\base.py", line 1995, in _handle_dbapi_exception
    sqlalchemy_exception, with_traceback=exc_info[2], from_=e
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\base.py", line 1771, in _execute_context
    cursor, statement, parameters, context
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\sqlalchemy\engine\default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\cursors.py", line 148, in execute
    result = self._query(query)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\cursors.py", line 310, in _query
    conn.query(q)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 775, in _read_query_result
    result.read()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1054, "Unknown column 'weibo_user.location' in 'field list'")
[SQL: SELECT weibo_user.uid AS weibo_user_uid, weibo_user.username AS weibo_user_username, weibo_user.url AS weibo_user_url, weibo_user.following AS weibo_user_following, weibo_user.followed AS weibo_user_followed, weibo_user.gender AS weibo_user_gender, weibo_user.location AS weibo_user_location, weibo_user.edu AS weibo_user_edu, weibo_user.birthday AS weibo_user_birthday, weibo_user.post_num AS weibo_user_post_num 
FROM weibo_user]
(Background on this error at: http://sqlalche.me/e/14/e3q8)
[ERROR][22640][2021-05-25 11:23:20,468][app.py:1892] log_exception - Exception on /api_v1/weibo/test3 [GET]
Traceback (most recent call last):
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1953, in full_dispatch_request
    return self.finalize_request(rv)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1968, in finalize_request
    response = self.make_response(rv)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 2131, in make_response
    " {rv.__class__.__name__}.".format(rv=rv)
TypeError: The view function did not return a valid response. The return type must be a string, dict, tuple, Response instance, or WSGI callable, but it was a list.
[ERROR][2136][2021-05-25 11:24:43,739][app.py:1892] log_exception - Exception on /api_v1/weibo/test3 [GET]
Traceback (most recent call last):
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask_cors\extension.py", line 165, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "E:\PycharmProjects\32Git\flask-demo\application\api_v1\controller\weiboController.py", line 10, in test3
    print(users.tostring())
AttributeError: 'list' object has no attribute 'tostring'
[ERROR][7696][2021-05-25 11:51:20,893][app.py:1892] log_exception - Exception on /api_v1/weibo/test3 [GET]
Traceback (most recent call last):
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask_cors\extension.py", line 165, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\xie\Anaconda3\envs\DataServer\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "E:\PycharmProjects\32Git\flask-demo\application\api_v1\controller\weiboController.py", line 15, in test3
    item['gender'] = gender_map[user.__dict__.get('gender')]
KeyError: None
